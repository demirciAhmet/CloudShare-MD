### Create a new note (Initial Save/Share)
# Returns: { id, uniqueId, creatorToken, createdAt }
POST http://localhost:5002/api/notes
Content-Type: application/json

{
    "content": "# My First Note\n\nThis is the initial content."
}

### --- Variables (Set after creating a note) ---
@noteId = 1 # Replace with actual ID from POST response
@uniqueId = xyz789 # Replace with actual uniqueId from POST response
@creatorToken = abc123def456 # Replace with actual creatorToken from POST response

### Update note content (Autosave)
# Requires creator token in header
PUT http://localhost:5002/api/notes/{{noteId}}
Content-Type: application/json
X-Creator-Token: {{creatorToken}}

{
    "content": "# My First Note\n\nThis is the updated content.\n\n* List item 1\n* List item 2\n\n```javascript\nconsole.log('Hello World!');\n```"
}


### Get note content for viewing (Public Access)
# NO Token required
GET http://localhost:5002/api/notes/{{uniqueId}}


### Get note content for editing (Creator Access)
# Requires creator token in header
GET http://localhost:5002/api/notes/edit/{{noteId}}
X-Creator-Token: {{creatorToken}}


### Set note expiration (1 day)
# Requires creator token in header
PUT http://localhost:5002/api/notes/{{noteId}}/config
Content-Type: application/json
X-Creator-Token: {{creatorToken}}

{
    "expirationOption": "1d" # Options: '1h', '1d', '7d', 'none'
}


### Set note expiration (No expiration)
# Requires creator token in header
PUT http://localhost:5002/api/notes/{{noteId}}/config
Content-Type: application/json
X-Creator-Token: {{creatorToken}}

{
    "expirationOption": "none"
}


### Attempt to view an expired note (Example - Manually set uniqueId to an expired one if needed)
GET http://localhost:5002/api/notes/expiredUniqueIdExample
# Expected Response: 410 Gone with message


### Attempt to edit without token
PUT http://localhost:5002/api/notes/{{noteId}}
Content-Type: application/json

{
    "content": "Trying to edit without token"
}
# Expected Response: 401 Unauthorized (Creator token missing)


### Attempt to edit with WRONG token
PUT http://localhost:5002/api/notes/{{noteId}}
Content-Type: application/json
X-Creator-Token: wrong-token-123

{
    "content": "Trying to edit with wrong token"
}
# Expected Response: 403 Forbidden (Invalid ID or token)

### Health Check
GET http://localhost:5002/health